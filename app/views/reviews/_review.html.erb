<!-- review - start -->
<div class="flex flex-col gap-3 rounded-lg border p-4 md:p-6">
  <div>
    <span class="block text-sm font-bold md:text-base"><%= link_to review.user.name, movie_review_path(@movie, review) %></span>
    <span class="block text-sm text-gray-500"><%= review.created_at %></span>
    <% if review.contains_spoiler? %>
      <p class="text-xl font-bold"><%= link_to '※このレビューはネタバレを含みます', movie_review_path(@movie, review) %></p>
    <% else %>
      <p class="text-gray-600"><%= review.content %></p>
    <% end %>
  </div>
    <% if current_user %>
      <% if current_user.own?(review) %>
        <%= link_to '編集', edit_movie_review_path(review.movie, review), data: { turbo_frame: 'new_item' }, class: "bg-blue-700 hover:bg-blue-600 text-white rounded px-4 py-2 w-24" %>
        <%= link_to '削除', "#", class: "bg-blue-700 hover:bg-blue-600 text-white rounded px-4 py-2 w-24" %>
        <div data-modal-target="modal"
            data-controller="modal"
            data-action="turbo:frame-load->modal#open turbo:submit-end->modal#close"
            class="hidden fixed m-auto w-screen h-screen top-0 left-0 bg-gray-700/50 z-10">
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-max h-max bg-white p-10">
            <%= turbo_frame_tag "new_item" %>
          </div>
        </div>
      <% else %>
        <%= render 'reviews/like_button', review: review %>
        <%= review.comment_count %>件のコメント
      <% end %>
    <% end %>
</div>
<!-- review - end -->